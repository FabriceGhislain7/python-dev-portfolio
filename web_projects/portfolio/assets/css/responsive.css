/*
===========================================
RESPONSIVE CSS - Portfolio Statico
===========================================
Media queries e ottimizzazioni responsive per tutti i dispositivi
*/

/* ================================ */
/* MOBILE FIRST APPROACH            */
/* ================================ */

/* Base styles sono gi√† mobile-first nei file precedenti */

/* ================================ */
/* EXTRA SMALL DEVICES              */
/* ================================ */
/* Portrait phones: 320px - 479px */

@media (max-width: 479px) {
    /* Container adjustments */
    .container {
        padding: 0 var(--space-3);
    }
    
    /* Typography scaling */
    :root {
        --font-size-xs: 0.6875rem;    /* 11px */
        --font-size-sm: 0.8125rem;    /* 13px */
        --font-size-base: 0.875rem;   /* 14px */
        --font-size-lg: 1rem;         /* 16px */
        --font-size-xl: 1.125rem;     /* 18px */
        --font-size-2xl: 1.25rem;     /* 20px */
        --font-size-3xl: 1.5rem;      /* 24px */
        --font-size-4xl: 1.875rem;    /* 30px */
        --font-size-5xl: 2.25rem;     /* 36px */
        --font-size-6xl: 2.75rem;     /* 44px */
    }
    
    /* Section spacing */
    section {
        padding: var(--space-12) 0;
    }
    
    .section-header {
        margin-bottom: var(--space-12);
    }
    
    /* Header adjustments */
    .nav {
        height: 56px;
    }
    
    .nav-container {
        padding: 0 var(--space-3);
    }
    
    .logo-text {
        font-size: var(--font-size-base);
    }
    
    .nav-menu {
        top: 56px;
        height: calc(100vh - 56px);
        padding: var(--space-4);
    }
    
    /* Hero section */
    .hero {
        min-height: 80vh;
        padding: var(--space-12) 0;
    }
    
    .hero-name {
        font-size: var(--font-size-4xl);
        text-align: center;
    }
    
    .hero-profession {
        font-size: var(--font-size-lg);
        text-align: center;
    }
    
    .hero-description {
        font-size: var(--font-size-base);
        text-align: center;
    }
    
    .hero-avatar {
        width: 200px;
        height: 200px;
    }
    
    .hero-buttons {
        flex-direction: column;
        gap: var(--space-3);
        width: 100%;
    }
    
    .hero-buttons .btn {
        width: 100%;
        justify-content: center;
    }
    
    /* Grid adjustments */
    .skills-grid,
    .projects-grid {
        grid-template-columns: 1fr;
        gap: var(--space-4);
    }
    
    /* Cards */
    .skill-card,
    .project-card {
        padding: var(--space-4);
    }
    
    /* Forms */
    .contact-content {
        grid-template-columns: 1fr;
        gap: var(--space-6);
    }
    
    .contact-form-wrapper {
        padding: var(--space-4);
    }
    
    .form-input {
        padding: var(--space-3);
        font-size: var(--font-size-base);
    }
    
    /* Buttons */
    .btn {
        padding: var(--space-3) var(--space-4);
        font-size: var(--font-size-sm);
        min-height: 44px; /* Accessibility touch target */
    }
    
    .btn-lg {
        padding: var(--space-3) var(--space-5);
        font-size: var(--font-size-base);
    }
    
    /* Filter buttons */
    .projects-filter,
    .skills-filter {
        gap: var(--space-2);
        flex-wrap: wrap;
        justify-content: center;
    }
    
    .filter-btn {
        padding: var(--space-2) var(--space-3);
        font-size: var(--font-size-xs);
        min-width: auto;
    }
    
    /* Modal adjustments */
    .modal-content {
        width: 95%;
        max-height: 85vh;
        margin: var(--space-3);
    }
    
    .modal-header,
    .modal-body {
        padding: var(--space-3);
    }
    
    /* Timeline */
    .education-timeline {
        padding-left: var(--space-4);
    }
    
    .timeline-item {
        padding-left: var(--space-4);
    }
    
    .timeline-date {
        font-size: var(--font-size-xs);
        margin-bottom: var(--space-2);
    }
}

/* ================================ */
/* SMALL DEVICES                    */
/* ================================ */
/* Landscape phones: 480px - 639px */

@media (min-width: 480px) and (max-width: 639px) {
    .hero-content {
        gap: var(--space-8);
    }
    
    .hero-buttons {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
    }
    
    .hero-buttons .btn {
        flex: 1;
        min-width: 140px;
        max-width: 200px;
    }
    
    .about-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .contact-item {
        flex-direction: row;
        text-align: left;
    }
    
    .projects-filter,
    .skills-filter {
        justify-content: center;
    }
}

/* ================================ */
/* MEDIUM DEVICES                   */
/* ================================ */
/* Tablets: 640px - 767px */

@media (min-width: 640px) and (max-width: 767px) {
    .container {
        padding: 0 var(--space-5);
    }
    
    .hero-content {
        grid-template-columns: 1fr;
        text-align: center;
        gap: var(--space-12);
    }
    
    .hero-text {
        order: 2;
    }
    
    .hero-image {
        order: 1;
    }
    
    .skills-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-6);
    }
    
    .projects-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-6);
    }
    
    .about-content {
        grid-template-columns: 1fr;
        gap: var(--space-10);
    }
    
    .about-stats {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .contact-content {
        grid-template-columns: 1fr;
        gap: var(--space-8);
    }
    
    .nav-menu {
        display: flex;
    }
    
    .menu-toggle {
        display: none;
    }
    
    .nav-link {
        padding: var(--space-2) var(--space-3);
        font-size: var(--font-size-sm);
    }
}

/* ================================ */
/* LARGE TABLETS                    */
/* ================================ */
/* Large tablets: 768px - 1023px */

@media (min-width: 768px) and (max-width: 1023px) {
    .hero-content {
        grid-template-columns: 1fr 1fr;
        gap: var(--space-12);
        text-align: left;
    }
    
    .hero-text {
        order: 1;
    }
    
    .hero-image {
        order: 2;
    }
    
    .hero-buttons {
        justify-content: flex-start;
    }
    
    .skills-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-6);
    }
    
    .projects-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-6);
    }
    
    .about-content {
        grid-template-columns: 1fr 1fr;
        gap: var(--space-12);
    }
    
    .contact-content {
        grid-template-columns: 1fr 1fr;
        gap: var(--space-12);
    }
    
    /* Navigation adjustments */
    .nav-link {
        padding: var(--space-2) var(--space-4);
        font-size: var(--font-size-base);
    }
    
    /* Modal adjustments */
    .modal-content {
        width: 85%;
        max-width: 700px;
    }
    
    .project-meta-full {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* ================================ */
/* DESKTOP DEVICES                  */
/* ================================ */
/* Small desktops: 1024px - 1279px */

@media (min-width: 1024px) and (max-width: 1279px) {
    .skills-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-8);
    }
    
    .projects-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-8);
    }
    
    .hero-avatar {
        width: 280px;
        height: 280px;
    }
    
    .nav-link {
        padding: var(--space-2) var(--space-5);
    }
}

/* ================================ */
/* LARGE DESKTOP DEVICES            */
/* ================================ */
/* Large desktops: 1280px - 1535px */

@media (min-width: 1280px) and (max-width: 1535px) {
    .skills-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-8);
    }
    
    .projects-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-8);
    }
    
    .nav-link {
        padding: var(--space-2) var(--space-6);
    }
}

/* ================================ */
/* EXTRA LARGE DEVICES              */
/* ================================ */
/* Extra large desktops: 1536px+ */

@media (min-width: 1536px) {
    .container {
        max-width: 1400px;
    }
    
    .skills-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-10);
    }
    
    .projects-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--space-10);
    }
    
    .hero-avatar {
        width: 320px;
        height: 320px;
    }
    
    .hero-name {
        font-size: var(--font-size-7xl);
    }
    
    .section-title {
        font-size: var(--font-size-5xl);
    }
    
    section {
        padding: var(--space-24) 0;
    }
}

/* ================================ */
/* LANDSCAPE ORIENTATION             */
/* ================================ */

@media (orientation: landscape) and (max-height: 600px) {
    .hero {
        min-height: 100vh;
        padding: var(--space-8) 0;
    }
    
    .hero-content {
        gap: var(--space-8);
    }
    
    .hero-avatar {
        width: 200px;
        height: 200px;
    }
    
    .hero-name {
        font-size: var(--font-size-4xl);
    }
    
    .hero-description {
        font-size: var(--font-size-base);
    }
    
    .section-header {
        margin-bottom: var(--space-8);
    }
    
    section {
        padding: var(--space-12) 0;
    }
}

/* ================================ */
/* HIGH DPI DISPLAYS                */
/* ================================ */

@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    /* Optimize for retina displays */
    .hero-avatar img,
    .about-img,
    .project-image img {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
    }
    
    /* Thinner borders on high DPI */
    .skill-card,
    .project-card,
    .contact-item {
        border-width: 0.5px;
    }
}

/* ================================ */
/* PRINT MEDIA                      */
/* ================================ */

@media print {
    /* Hide interactive elements */
    .nav-controls,
    .hero-buttons,
    .projects-filter,
    .skills-filter,
    .contact-form,
    .back-to-top,
    .loading-screen,
    .scroll-progress {
        display: none !important;
    }
    
    /* Optimize layout for print */
    .hero {
        min-height: auto;
        padding: var(--space-8) 0;
    }
    
    .hero-content {
        grid-template-columns: 1fr;
        gap: var(--space-6);
        text-align: center;
    }
    
    .hero-avatar {
        width: 150px;
        height: 150px;
        margin: 0 auto;
    }
    
    .skills-grid,
    .projects-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-4);
    }
    
    .about-content,
    .contact-content {
        grid-template-columns: 1fr;
        gap: var(--space-6);
    }
    
    /* Typography adjustments */
    .hero-name {
        font-size: var(--font-size-3xl);
    }
    
    .section-title {
        font-size: var(--font-size-2xl);
    }
    
    /* Remove shadows and animations */
    * {
        box-shadow: none !important;
        animation: none !important;
        transition: none !important;
    }
    
    /* Ensure dark text on white background */
    * {
        color: #000 !important;
        background: #fff !important;
    }
    
    /* Page breaks */
    .hero,
    .about,
    .skills,
    .projects,
    .education,
    .contact {
        page-break-inside: avoid;
        page-break-after: auto;
    }
    
    .section-header {
        page-break-after: avoid;
    }
}

/* ================================ */
/* ACCESSIBILITY MEDIA QUERIES      */
/* ================================ */

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
    
    .hero-scroll,
    .scroll-indicator {
        animation: none;
    }
}

/* High contrast preferences */
@media (prefers-contrast: high) {
    .skill-card,
    .project-card,
    .contact-item,
    .about-stats,
    .languages-section,
    .soft-skills {
        border-width: 2px;
        border-color: currentColor;
    }
    
    .btn {
        border: 2px solid currentColor;
    }
    
    .filter-btn.active {
        background: currentColor;
        color: var(--color-bg-primary);
    }
}

/* Increased motion preferences */
@media (prefers-reduced-motion: no-preference) {
    .skill-card,
    .project-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .skill-card:hover,
    .project-card:hover {
        transform: translateY(-4px);
    }
}

/* ================================ */
/* CONTAINER QUERIES (Future)       */
/* ================================ */

/* Note: Container queries have limited support
   but prepared for future implementation */

/* @container (min-width: 400px) {
    .skill-card {
        padding: var(--space-6);
    }
}

@container (min-width: 600px) {
    .projects-grid {
        grid-template-columns: repeat(2, 1fr);
    }
} */

/* ================================ */
/* TOUCH DEVICE OPTIMIZATIONS       */
/* ================================ */

@media (pointer: coarse) {
    /* Larger touch targets */
    .btn,
    .filter-btn,
    .nav-link,
    .social-link {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Remove hover effects on touch devices */
    .skill-card:hover,
    .project-card:hover,
    .contact-item:hover,
    .btn:hover {
        transform: none;
    }
    
    /* Larger tap areas */
    .theme-toggle,
    .menu-toggle,
    .back-to-top {
        min-width: 48px;
        min-height: 48px;
    }
}

/* ================================ */
/* BROWSER SPECIFIC FIXES           */
/* ================================ */

/* Safari specific fixes */
@supports (-webkit-touch-callout: none) {
    .hero {
        min-height: -webkit-fill-available;
    }
    
    /* Fix for iOS viewport units */
    .hero {
        min-height: calc(100vh - env(safe-area-inset-bottom));
    }
}

/* Firefox specific fixes */
@-moz-document url-prefix() {
    .skill-level-fill,
    .tech-level-fill {
        background-attachment: scroll;
    }
}

/* Edge specific fixes */
@supports (-ms-ime-align: auto) {
    .grid {
        display: -ms-grid;
    }
}

/* ================================ */
/* DEVICE SPECIFIC BREAKPOINTS      */
/* ================================ */

/* iPhone SE */
@media only screen and (device-width: 375px) and (device-height: 667px) {
    .hero-name {
        font-size: var(--font-size-4xl);
    }
}

/* iPhone 12/13/14 */
@media only screen and (device-width: 390px) and (device-height: 844px) {
    .container {
        padding: 0 var(--space-4);
    }
}

/* iPad */
@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {
    .skills-grid,
    .projects-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .about-content {
        grid-template-columns: 1fr;
        gap: var(--space-10);
    }
}

/* ================================ */
/* PERFORMANCE OPTIMIZATIONS        */
/* ================================ */

/* Reduce paint complexity on mobile */
@media (max-width: 768px) {
    .hero-background,
    .particles,
    .hero-shapes {
        display: none;
    }
    
    /* Simplify shadows on mobile */
    .skill-card,
    .project-card,
    .contact-item {
        box-shadow: var(--shadow-sm);
    }
    
    /* Reduce border radius complexity */
    .hero-avatar {
        border-radius: 50%;
    }
}

/* Optimize for slow connections */
@media (prefers-reduced-data: reduce) {
    /* Remove background images */
    .hero-background,
    .particles::before {
        display: none;
    }
    
    /* Simplify animations */
    * {
        animation-duration: 0.1s !important;
    }
}